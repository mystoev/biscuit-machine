(function(t){function e(e){for(var s,r,a=e[0],c=e[1],l=e[2],p=0,f=[];p<a.length;p++)r=a[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},o=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/biscuit-machine/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0214":function(t,e,n){},"034f":function(t,e,n){"use strict";n("85ec")},1866:function(t,e,n){},"1b49":function(t,e,n){"use strict";n("99ac")},"212e":function(t,e,n){},"23d2":function(t,e,n){"use strict";n("212e")},"334c":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("BiscuitMachine"),n("Requirements")],1)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"machine-root"},[n("div",{staticClass:"conveyor-components"},[n("Extruder"),n("Stamper"),n("Oven",{staticClass:"oven-position",attrs:{heaterSensor:{low:220,high:240}}})],1),n("div",{staticClass:"biscuits-container"},t._l(t.biscuits,(function(t){return n("Biscuit",{key:t.id,class:"biscuit-position-"+t.position,attrs:{state:t.state}})})),1),n("Conveyor",{attrs:{positions:8}}),n("div",{staticClass:"conveyor-controls"},[n("Motor"),n("MachineSwitch")],1),n("p",[n("span",{staticStyle:{"font-size":"14px"}},[t._v("Biscuits done: "+t._s(t.biscuitsDone)+" ")]),t.biscuitsBurned>0?n("span",{staticStyle:{"font-size":"14px",color:"red"}},[t._v("Biscuits burned: "+t._s(t.biscuitsBurned))]):t._e()])],1)},a=[],c=(n("4de4"),n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-root"},[n("svg",{staticClass:"svg-conveyor",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",viewBox:"0 0 700 70"}},[n("rect",{staticClass:"conveyor-line stroke",attrs:{x:"1",y:"1"}}),n("polygon",{staticClass:"stroke fill",attrs:{points:"601 31, 601 69, 699 69, 699 31, 694 31, 694 64, 606 64, 606 31"}})])])}),l=[],u=(n("a9e3"),{name:"Conveyor",data:function(){return{biscuitStates:{2:"stamped",3:"formed",4:"enteredOven",5:"cooking",6:"done"}}},created:function(){window.eventHub.$on("process-biscuits",this.processBiscuits)},props:{positions:Number},methods:{processBiscuits:function(t){this.moveBiscuits(t),this.changeBiscuitsState(t),this.removeOldBiscuits()},moveBiscuits:function(t){var e=this;t.forEach((function(t){t.position<e.positions&&(t.position+=1),t.position==e.positions-1&&window.eventHub.$emit("biscuit-done")}))},changeBiscuitsState:function(t){var e=this;t.filter((function(t){return"burned"!=t.state})).filter((function(t){return e.biscuitStates[t.position]})).forEach((function(t){return t.state=e.biscuitStates[t.position]}))},removeOldBiscuits:function(){var t=document.getElementsByClassName("biscuit");if(t.length>10){var e=t[0].parentNode;e.removeChild(t[0])}}}}),p=u,f=(n("d3c5"),n("2877")),v=Object(f["a"])(p,c,l,!1,null,null,null),m=v.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-root"},[n("svg",{staticClass:"svg-common",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",viewBox:"0 0 100 100"}},[n("polygon",{staticClass:"extruder-part stroke fill",attrs:{points:"26 1, 74 1, 57 58, 44 58"}}),n("polygon",{staticClass:"extruder-part stroke fill",attrs:{points:"26 1, 74 1, 63 48, 37 48"}}),n("polygon",{staticClass:"extruder-liquid",attrs:{points:"30 4, 70 4, 60 45, 40 45"}})])])},d=[],w={name:"Extruder",created:function(){window.eventHub.$on("extruder-pulse",this.pulse)},methods:{pulse:function(t){var e={id:Math.random(),state:"raw",position:0};t.push(e)}}},b=w,x=(n("f193"),Object(f["a"])(b,h,d,!1,null,null,null)),g=x.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-root"},[n("svg",{staticClass:"svg-common",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",viewBox:"0 0 100 100"}},[n("rect",{staticClass:"stamper-moving-part stroke fill",attrs:{x:"47",y:"25"}},[n("animate",{attrs:{id:"stamperAnimationElement1",begin:"indefnite",attributeName:"y",dur:"1s",values:"25; 25; 25; 25; 45;",repeatCount:"1"}})]),n("rect",{staticClass:"stamper-stamp stroke fill",attrs:{x:"40",y:"65"}},[n("animate",{attrs:{id:"stamperAnimationElement2",begin:"indefnite",attributeName:"y",dur:"1s",values:"65; 65; 65; 65; 85;",repeatCount:"1"}})]),n("polygon",{staticClass:"stroke fill",attrs:{points:"27 2, 73 2, 57 58, 43 58"}}),n("polygon",{staticClass:"stroke fill",attrs:{points:"27 2, 73 2, 63 48, 37 48"}})])])},k=[],_={name:"Stamper",created:function(){window.eventHub.$on("stamper-pulse",this.pulse)},methods:{pulse:function(t){if(null!=t&&0!=t.length){var e=document.getElementById("stamperAnimationElement1"),n=document.getElementById("stamperAnimationElement2");e.beginElement(),n.beginElement()}}}},C=_,H=(n("a595"),Object(f["a"])(C,y,k,!1,null,null,null)),S=H.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-root"},[n("svg",{staticClass:"svg-oven",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",viewBox:"0 0 200 50"}},[n("polygon",{staticClass:"oven-body stroke",attrs:{points:"1 1, 199 1, 199 49, 189, 49, 189, 19, 11 19, 11 49, 1 49"}}),n("polygon",{staticClass:"oven-header stroke",attrs:{points:"15 22, 185 22, 185 27, 15 27"}}),n("text",{staticClass:"oven-display",attrs:{x:"85",y:"15"}},[t._v(t._s(t.temperature)+"Â°C")])])])},O=[],B={name:"Oven",data:function(){return{temperature:200,temperatureDelta:1,initialTemperature:200,maxTemperature:350,warmUpHook:new Function,coolDownHook:new Function,ovenReadyEmitted:!1}},created:function(){window.eventHub.$on("oven-start",this.on),window.eventHub.$on("oven-stop",this.stop),window.eventHub.$on("oven-heat",this.on),window.eventHub.$on("oven-cool",this.off)},props:{sensorLowLimit:Number,sensorHighLimit:Number,heaterSensor:Object},methods:{on:function(){var t=this;clearInterval(this.coolDownHook),this.warmUpHook=setInterval((function(){t.temperature>=t.maxTemperature?clearInterval(this.warmUpHook):(t.temperature+=t.temperatureDelta,t.heaterSensor&&(!t.ovenReadyEmitted&&t.temperature>=t.heaterSensor.low&&t.temperature<=t.heaterSensor.high&&(t.ovenReadyEmitted=!0,window.eventHub.$emit("oven-ready")),t.heaterSensor.high==t.temperature&&(clearInterval(this.warmUpHook),window.eventHub.$emit("oven-cool"))))}),100)},off:function(){var t=this;clearInterval(this.warmUpHook),this.coolDownHook=setInterval((function(){t.temperature<=t.initialTemperature?clearInterval(this.coolDownHook):(t.temperature-=t.temperatureDelta,t.heaterSensor&&t.heaterSensor.low==t.temperature&&(clearInterval(this.coolDownHook),window.eventHub.$emit("oven-heat")))}),100)},stop:function(){var t=this;t.ovenReadyEmitted=!1,clearInterval(this.coolDownHook),clearInterval(this.warmUpHook),this.coolDownHook=setInterval((function(){t.temperature<=t.initialTemperature?clearInterval(this.coolDownHook):(t.temperature-=t.temperatureDelta,t.heaterSensor&&t.temperature<t.heaterSensor.low&&window.eventHub.$emit("oven-not-ready"))}),100)}}},E=B,M=(n("1b49"),Object(f["a"])(E,$,O,!1,null,null,null)),j=M.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"biscuit"},[n("svg",{staticClass:"svg-cookie",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",viewBox:"0 0 100 16"}},["raw"==t.state?n("ellipse",{staticClass:"stroke",attrs:{fill:"#D89F39",cx:"50",cy:"8",rx:"7",ry:"7"}}):"stamped"==t.state?n("ellipse",{staticClass:"stroke biscuit-stamped",attrs:{fill:"#D89F39",cx:"50",cy:"10",rx:"20",ry:"5"}}):"formed"==t.state?n("ellipse",{staticClass:"stroke",attrs:{fill:"#D89F39",cx:"50",cy:"10",rx:"20",ry:"5"}}):"enteredOven"==t.state?n("ellipse",{staticClass:"stroke",attrs:{fill:"#C78021",cx:"50",cy:"10",rx:"20",ry:"5"}}):"cooking"==t.state?n("ellipse",{staticClass:"stroke",attrs:{fill:"#B9670C",cx:"50",cy:"10",rx:"20",ry:"5"}}):"done"==t.state?n("ellipse",{staticClass:"stroke",attrs:{fill:"#B45F06",cx:"50",cy:"10",rx:"20",ry:"5"}}):"burned"==t.state?n("ellipse",{staticClass:"stroke",attrs:{fill:"#666",cx:"50",cy:"10",rx:"20",ry:"5"}}):t._e()])])},I=[],T={name:"Biscuit",props:{state:String}},P=T,R=(n("23d2"),Object(f["a"])(P,D,I,!1,null,null,null)),N=R.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-root"},[n("svg",{staticClass:"svg-motor",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",viewBox:"0 0 80 80"}},[n("circle",{staticClass:"motorRotor stroke",attrs:{cx:"35",cy:"35",r:"30"}},[n("animateTransform",{attrs:{id:"motorRotator",begin:"indefnite",attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 35 35",to:"360 35 35",repeatCount:"indefinite"}})],1),n("circle",{staticClass:"motorStator stroke",attrs:{cx:"35",cy:"35",r:"14"}})])])},q=[],U={name:"Motor",data:function(){return{intervalHook:new Function,state:"off"}},created:function(){window.eventHub.$on("motor-start",this.on),window.eventHub.$on("motor-stop",this.off)},methods:{on:function(){"on"!=this.state&&(this.state="on",document.getElementById("motorRotator").beginElement(),this.intervalHook=setInterval((function(){window.eventHub.$emit("motor-pulse")}),1e3))},off:function(){"off"!=this.state&&(this.state="off",document.getElementById("motorRotator").endElement(),clearInterval(this.intervalHook))}}},A=U,L=(n("f98b"),Object(f["a"])(A,F,q,!1,null,null,null)),z=L.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-root"},[n("svg",{staticClass:"svg-common",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",viewBox:"0 0 100 100"}},["pause"==t.state?n("rect",{staticClass:"switch-handle-bar stroke fill",attrs:{x:"48",y:"25",width:"4",height:"75"}}):t._e(),"pause"==t.state?n("circle",{staticClass:"switch-handle stroke fill",attrs:{cx:"50",cy:"25",r:"7"}}):t._e(),"on"==t.state?n("rect",{staticClass:"switch-handle-bar stroke fill",attrs:{x:"48",y:"80",width:"40",height:"4"}}):t._e(),"on"==t.state?n("circle",{staticClass:"switch-handle stroke fill",attrs:{cx:"92",cy:"82",r:"7"}}):t._e(),"off"==t.state?n("rect",{staticClass:"switch-handle-bar stroke fill",attrs:{x:"6",y:"80",width:"40",height:"4"}}):t._e(),"off"==t.state?n("circle",{staticClass:"switch-handle stroke fill",attrs:{cx:"8",cy:"82",r:"7"}}):t._e(),n("path",{staticClass:"switch-body stroke fill",attrs:{d:"M50,39 h20 a10,10 0 0 1 10,10 v50 h-60 v-50 a10,10 0 0 1 10,-10 z"}}),n("text",{staticClass:"switch-text",attrs:{fill:t.fillText("on"),x:"58",y:"86"},on:{click:function(e){return t.switching("on")}}},[t._v("On")]),n("text",{staticClass:"switch-text",attrs:{fill:t.fillText("off"),x:"25",y:"86"},on:{click:function(e){return t.switching("off")}}},[t._v("Off")]),n("text",{staticClass:"switch-text",attrs:{fill:t.fillText("pause"),x:"31",y:"56"},on:{click:function(e){return t.switching("pause")}}},[t._v("Paused")])])])},W=[],X={name:"MachineSwitch",data:function(){return{state:"off"}},props:{stateProp:String},methods:{fillText:function(t){return this.state==t?"white":"#333"},switching:function(t){this.state!=t&&(this.state=t,window.eventHub.$emit("switch-changed",this.state))}}},G=X,K=(n("ec03"),Object(f["a"])(G,J,W,!1,null,null,null)),Q=K.exports,V={name:"BiscuitMachine",components:{Extruder:g,Stamper:S,Oven:j,Biscuit:N,Conveyor:m,Motor:z,MachineSwitch:Q},created:function(){var t=this;window.eventHub.$on("switch-changed",(function(e){t.machineState=e})),window.eventHub.$on("oven-start",(function(){t.ovenState="on"})),window.eventHub.$on("oven-not-ready",(function(){t.ovenState="off"})),window.eventHub.$on("oven-ready",(function(){t.ovenState="ready"})),window.eventHub.$on("biscuit-done",(function(){t.biscuitsDone++})),window.eventHub.$on("motor-pulse",this.motorPulse)},data:function(){return{biscuitsDone:0,biscuitsBurned:0,biscuits:[],machineState:"off",ovenState:"off"}},watch:{machineState:function(t,e){"on"==t?this.startMachine():"pause"==t?this.pauseMachine():this.stopMachine(e)},ovenState:function(t){"ready"==t&&"pause"!=this.machineState&&window.eventHub.$emit("motor-start")}},methods:{startMachine:function(){"ready"==this.ovenState?window.eventHub.$emit("motor-start"):"off"==this.ovenState&&window.eventHub.$emit("oven-start")},pauseMachine:function(){this.checkForBurnedBiscuits(),window.eventHub.$emit("motor-stop")},stopMachine:function(t){"pause"==t&&"ready"==this.ovenState&&window.eventHub.$emit("motor-start")},motorPulse:function(){window.eventHub.$emit("process-biscuits",this.biscuits),window.eventHub.$emit("stamper-pulse",this.biscuits.filter((function(t){return 2==t.position}))),"off"!=this.machineState?window.eventHub.$emit("extruder-pulse",this.biscuits):this.biscuits.length==this.biscuits.filter((function(t){return 8==t.position})).length&&(window.eventHub.$emit("motor-stop"),window.eventHub.$emit("oven-stop"))},checkForBurnedBiscuits:function(){var t=this,e=this.biscuits.filter((function(t){return 4==t.position||5==t.position}));e.length>0&&setTimeout((function(){0!=e.filter((function(t){return 4==t.position||5==t.position})).length&&(e.forEach((function(t){return t.state="burned"})),t.biscuitsBurned+=e.length)}),5e3)}}},Y=V,Z=(n("636b"),Object(f["a"])(Y,r,a,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},nt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"requirements-root"},[n("div",{staticClass:"requirements-text"},[n("h1",[t._v("Requirements")]),n("p",[t._v("Design a system to control the Biscuit Machine to the following specification:")]),n("ul",[n("li",[t._v("When switched on, the machine must wait for the oven to warm up before starting the conveyor belt.")]),n("li",[t._v("Biscuits must be cooked at a temperature of 220 - 240Â°C (the oven will overheat if the heating element is on all the time). ")]),n("li",[t._v('If the operator selects âPause", all movement must be stopped immediately but the oven should be kept heated.')]),n("li",[t._v("When âOffâ is selected, the machine should be shut down leaving nothing on the conveyor belt.")])])]),n("div",{staticClass:"requirements-table-root"},[n("table",[n("tr",[n("th",[t._v("Device")]),n("th",[t._v("Inputs")]),n("th",[t._v("Outputs")])]),n("tr",[n("td",[t._v("Switch")]),n("td",[t._v("None")]),n("td",[t._v("On / Off / Pause")])]),n("tr",[n("td",[t._v("Motor")]),n("td",[t._v("On / Off")]),n("td",[t._v('One "pulse per revolution"')])]),n("tr",[n("td",[t._v("Extruder")]),n("td",[t._v("Pulse")]),n("td",[t._v("None")])]),n("tr",[n("td",[t._v("Stamper")]),n("td",[t._v("Pulse")]),n("td",[t._v("None")])]),n("tr",[n("td",[t._v("Oven")]),n("td",[t._v("Heating Element On / Off")]),n("td",[t._v("Temperature")])])])])])}],st={name:"Requirements"},it=st,ot=(n("9713"),Object(f["a"])(it,et,nt,!1,null,null,null)),rt=ot.exports,at={name:"App",components:{BiscuitMachine:tt,Requirements:rt}},ct=at,lt=(n("034f"),Object(f["a"])(ct,i,o,!1,null,null,null)),ut=lt.exports;s["a"].config.productionTip=!0,window.eventHub=new s["a"],new s["a"]({render:function(t){return t(ut)}}).$mount("#app")},"636b":function(t,e,n){"use strict";n("63e4")},"63e4":function(t,e,n){},"85ec":function(t,e,n){},9713:function(t,e,n){"use strict";n("aba1")},"99ac":function(t,e,n){},a36b:function(t,e,n){},a595:function(t,e,n){"use strict";n("0214")},aba1:function(t,e,n){},d3c5:function(t,e,n){"use strict";n("1866")},ec03:function(t,e,n){"use strict";n("a36b")},ef8c:function(t,e,n){},f193:function(t,e,n){"use strict";n("334c")},f98b:function(t,e,n){"use strict";n("ef8c")}});
//# sourceMappingURL=app.25e3b93f.js.map